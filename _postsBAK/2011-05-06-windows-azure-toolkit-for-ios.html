--- 
layout: post
title: Getting Started with the Windows Azure Toolkit for iOS
categories: 
- iOS
- Objective-C
- Toolkit
- Windows Azure
- Xcode
tags: []

status: publish
type: post
published: true
meta: 
  _edit_last: "1"
  disable_wpautop: "1"
  disable_wptexturize: "0"
  disable_convert_chars: "0"
  disable_convert_smilies: "0"
  _topsy_long_url: http://www.wadewegner.com/2011/05/windows-azure-toolkit-for-ios/
  topsy_short_url: http://bit.ly/km3nzE
  dsq_thread_id: "609466570"
---
<p><strong>IMPORTANT UPDATE:</strong></p>  <blockquote>   <p>Since the initial launch of the <a href="http://github.com/microsoft-dpe/wa-toolkit-ios" target="_blank">Windows Azure Toolkit for iOS</a>, we’ve not only updated &amp; changed the library, but we’ve also renamed the repository. For the latest information, please visit our github repository at <a href="http://github.com/microsoft-dpe/">http://github.com/microsoft-dpe/</a> – from here you can get access to the iOS library, Android library, and all the additional tools we’ve made available.      <br /></p> </blockquote>  <p>I am extremely excited to announce the immediate availability of the Windows Azure Toolkit for iOS!</p>  <p>This first release of the Windows Azure Toolkit for iOS provides an easy and convenient way of accessing Windows Azure storage from iOS-based applications.&#160; As with the <a href="http://watoolkitwp7.codeplex.com/" target="_blank">Windows Azure Toolkit for Windows Phone 7</a> we will continue to bring additional capabilities to the toolkit, such as push notifications, Access Control Service, and more.</p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSImage1" border="0" alt="iOSImage1" src="http://images.wadewegner.com/wordpress/2011/05/iOSImage1.png" width="200" height="375" /><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSImage2" border="0" alt="iOSImage2" src="http://images.wadewegner.com/wordpress/2011/05/iOSImage2.png" width="200" height="375" /><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSImage3" border="0" alt="iOSImage3" src="http://images.wadewegner.com/wordpress/2011/05/iOSImage3.png" width="200" height="375" /></p>  <p>You can get the toolkit—and all the source code—on github:</p>  <ul>   <li>Source code &amp; zip: <a title="https://github.com/microsoft-dpe/watoolkitios-lib" href="https://github.com/microsoft-dpe/watoolkitios-lib">https://github.com/microsoft-dpe/watoolkitios-lib</a> </li>    <li>Sample application: <a title="https://github.com/microsoft-dpe/watoolkitios-samples" href="https://github.com/microsoft-dpe/watoolkitios-samples">https://github.com/microsoft-dpe/watoolkitios-samples</a> </li>    <li>Documentation: <a title="https://github.com/microsoft-dpe/watoolkitios-doc" href="https://github.com/microsoft-dpe/watoolkitios-doc">https://github.com/microsoft-dpe/watoolkitios-doc</a> </li> </ul>  <p>The toolkit works in two ways: the toolkit can be used to access Windows Azure storage directly, or alternatively, can go through a proxy service. The proxy service code is the same code as used in the <a href="http://watoolkitwp7.codeplex.com/" target="_blank">Windows Azure Toolkit for Windows Phone 7</a> and negates the need for the developer to store the Azure storage credentials locally on the device.</p>  <p>The release of the Windows Azure Toolkit for iOS is a significant milestone, and reinforces my opinion that Windows Azure is a great place to run services for mobile applications.</p>  <p><strong>Setting up your Windows Azure services</strong></p>  <p>To quickly get your mobile services up and running in Windows Azure, take a look at the <a href="https://github.com/downloads/microsoft-dpe/watoolkitios-lib/cloudready.devices.zip" target="_blank">Cloud Ready Package for Devices</a> (found under downloads in <a title="https://github.com/microsoft-dpe/watoolkitios-lib" href="https://github.com/microsoft-dpe/watoolkitios-lib">https://github.com/microsoft-dpe/watoolkitios-lib</a>).</p>  <p>The Cloud Ready Package for Devices is designed to make it easier for you to build mobile applications that leverage cloud services running in Windows Azure. Instead of having to open up Visual Studio and compile a solution with the services you want to use, we provide you with the Windows Azure CSPKG and CSCFG files prebuilt - all you need to do is update the configuration file to point to your account.</p> <object width="512" height="288" type="application/x-silverlight-2" data="data:application/x-oleobject;base64,QfXq3+HzJEysrJnDBxUISgAJAADqNAAAxB0AAAAAAAAAAAAAAAAAAAAAAABoAAAAaAB0AHQAcAA6AC8ALwBjAGgAYQBuAG4AZQBsADkALgBtAHMAZABuAC4AYwBvAG0ALwBzAGMAcgBpAHAAdABzAC8AQwBoAGEAbgBuAGUAbAA5AC4AeABhAHAAPwB2AD0AMQAuADUAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhgIAAG0AZQBkAGkAYQB1AHIAbAA9AGgAdAB0AHAAOgAvAC8AZgBpAGwAZQBzAC4AYwBoADkALgBtAHMALwBjAGgAOQAvAGYAZQA0AGEALwAwAGIANwA1AGUAMgBkAGUALQBhADcAOQAzAC0ANABmADQAMwAtAGEAYwBkAGIALQA5AGUAZABiADAAMQA3AGIAZgBlADQAYQAvAEMAbABvAHUAZABSAGUAYQBkAHkAUABhAGMAawBhAGcAZQBzAEYAbwByAEQAZQB2AGkAYwBlAHMALgBpAHMAbQAvAG0AYQBuAGkAZgBlAHMAdAAsAHQAaAB1AG0AYgBuAGEAaQBsAD0AaAB0AHQAcAA6AC8ALwBtAGUAZABpAGEALgBjAGgAOQAuAG0AcwAvAGMAaAA5AC8AZgBlADQAYQAvADAAYgA3ADUAZQAyAGQAZQAtAGEANwA5ADMALQA0AGYANAAzAC0AYQBjAGQAYgAtADkAZQBkAGIAMAAxADcAYgBmAGUANABhAC8AQwBsAG8AdQBkAFIAZQBhAGQAeQBQAGEAYwBrAGEAZwBlAHMARgBvAHIARABlAHYAaQBjAGUAcwBfADUAMQAyAF8AYwBoADkALgBqAHAAZwAsAGQAZQBsAGkAdgBlAHIAeQBtAGUAdABoAG8AZAA9AGEAZABhAHAAdABpAHYAZQBzAHQAcgBlAGEAbQBpAG4AZwAsAGEAdQB0AG8AcABsAGEAeQA9AGYAYQBsAHMAZQAsAGUAbgB0AHIAeQBpAGQAPQAwAGIANwA1AGUAMgBkAGUAYQA3ADkAMwA0AGYANAAzAGEAYwBkAGIAOQBlAGQAYgAwADEANwBiAGYAZQA0AGEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAGAAAADQALgAwAC4ANQAwADQAMAAxAC4AMAAAAAAAAAAAAAAAAAAAAAAAAAA="> <param name="minRuntimeVersion" value="4.0.50401.0" /> <param name="source" value="http://channel9.msdn.com/scripts/Channel9.xap?v=1.5" /> <param name="initParams" value="mediaurl=http://files.ch9.ms/ch9/fe4a/0b75e2de-a793-4f43-acdb-9edb017bfe4a/CloudReadyPackagesForDevices.ism/manifest,thumbnail=http://media.ch9.ms/ch9/fe4a/0b75e2de-a793-4f43-acdb-9edb017bfe4a/CloudReadyPackagesForDevices_512_ch9.jpg,deliverymethod=adaptivestreaming,autoplay=false,entryid=0b75e2dea7934f43acdb9edb017bfe4a" /></object>  <p>In this video, you'll see how easy it is to deploy this package to Windows Azure regardless of your operating system (e.g. Windows 7 or OSX) and target device (e.g. Windows Phone 7, iOS, or Android).</p>  <p><strong>Unpacking the v1.0.0 library zip file</strong></p>  <p>You can download the <a href="https://github.com/downloads/microsoft-dpe/watoolkitios-lib/v1.0.0.zip" target="_blank">compiled storage library on github</a> (found under downloads in <a title="https://github.com/microsoft-dpe/watoolkitios-lib" href="https://github.com/microsoft-dpe/watoolkitios-lib">https://github.com/microsoft-dpe/watoolkitios-lib</a>).&#160; When you upzip the zip file, you’ll find several folders:</p>  <ul>   <li>/4.3-device – the library binary for iOS 4.3 (device) </li>    <li>/4.3-simulator – the library binary for iOS 4.3 (simulator) </li>    <li>/include – the headers for the library </li> </ul>  <p><strong>Creating your first project using the toolkit</strong></p>  <p>If you are not familiar with XCode, this is a short tutorial for getting your first project up and running. Launch <strong>XCode 4</strong> and create a new project:</p>  <p><span style="mso-no-proof: yes"><a href="http://images.wadewegner.com/wordpress/2011/05/clip_image0024_thumb.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="clip_image002[4]_thumb" border="0" alt="clip_image002[4]_thumb" src="http://images.wadewegner.com/wordpress/2011/05/clip_image0024_thumb_thumb.jpg" width="462" height="312" /></a></span></p>  <p>Select a <strong>View-based application</strong> and click <strong>Next</strong>.</p>  <p>Give the project a name and company. For the purposes of this walkthrough, we’ll call it “FirstAzureProject”. Do not include Unit Tests.</p>  <p><span style="mso-no-proof: yes"><a href="http://images.wadewegner.com/wordpress/2011/05/clip_image0044_thumb.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="clip_image004[4]_thumb" border="0" alt="clip_image004[4]_thumb" src="http://images.wadewegner.com/wordpress/2011/05/clip_image0044_thumb_thumb.jpg" width="492" height="332" /></a></span></p>  <p>Pick a folder to save the project to, and uncheck the source code repository checkbox.</p>  <p>When the project opens, right click on the Frameworks folder and select “Add Files to…”</p>  <p><span style="mso-no-proof: yes"><a href="http://images.wadewegner.com/wordpress/2011/05/clip_image0064_thumb.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="clip_image006[4]_thumb" border="0" alt="clip_image006[4]_thumb" src="http://images.wadewegner.com/wordpress/2011/05/clip_image0064_thumb_thumb.jpg" width="292" height="264" /></a></span></p>  <p>Locate the <strong>libwatoolkitios.a</strong> library file from the download package folder (from either the simulator or device folder), and add it to the Frameworks folder.</p>  <p><a href="http://images.wadewegner.com/wordpress/2011/05/image8.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb7.png" width="312" height="140" /></a></p>  <p>Now, click on the top most project (FirstAzureProject) in the left hand column.&#160; Click on the target in the second column.&#160; Click on the “Build Settings” header in the third column.&#160; Ensure that the “All” button is selected to show all settings.</p>  <p>In the search box, type in “header search” and look for an entry called “Header Search Paths”:</p>  <p><a href="http://images.wadewegner.com/wordpress/2011/05/image9.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb8.png" width="576" height="72" /></a></p>  <p>Double-click on this line (towards the right of the line), and click on the “+” button in the lower left.</p>  <p><a href="http://images.wadewegner.com/wordpress/2011/05/image10.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb9.png" width="576" height="143" /></a></p>  <p>Add the path to where the folder containing the header files are located (this is the include folder from the download).&#160; For example, &quot;~/Desktop/v1.0.0/include&quot; if you have extracted the folder on your desktop.&#160; Be sure to encapsulate in quotes if you have spaces in the path.</p>  <p><a href="http://images.wadewegner.com/wordpress/2011/05/image11.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb10.png" width="576" height="132" /></a></p>  <p>Now, click on the “Build Phases” tab and expand the “Link Binary with Libraries” section:</p>  <p><a href="http://images.wadewegner.com/wordpress/2011/05/image12.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb11.png" width="576" height="79" /></a></p>  <p>Click on the “+” button in the lower left, and scroll down until you find a library called “libxml2.2.7.3.dylib”.&#160; Add this library to your project.</p>  <p><strong>Testing Everything Works</strong></p>  <p>Now that you’ve added all of the required references, let’s test that the library can be called.&#160; To do this, double click on the [ProjectName]AppDelegate.m file (e.g. FirstAzureProjectAppDelegate.m), and add the following imports to the class:</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #643820"><span style="font-size: 10pt">#import </span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16; font-size: 10pt">&quot;AuthenticationCredential.h&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"> </span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #643820"><span style="font-size: 10pt">#import </span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16; font-size: 10pt">&quot;CloudStorageClient.h&quot;</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: consolas; color: #c41a16; font-size: x-small"><span style="mso-bidi-font-size: 14.0pt"></span></span><span style="mso-bidi-font-size: 12.0pt"></span></p> </ol>  <p>Perform a build.&#160; If the build succeeds, the library is correctly added to the project.&#160; If it fails, it is recommended to go back and check the header search paths.</p>  <p>Assuming it builds, in the .m file, add the following declarations after the @synthesize lines:</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699"><span style="font-size: 10pt">AuthenticationCredential</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> *credential;</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699"><span style="font-size: 10pt">CloudStorageClient</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> *client;</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: consolas; color: #000000; font-size: x-small"><span style="mso-bidi-font-size: 14.0pt"></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: consolas; color: #000000; font-size: x-small"><span style="mso-bidi-font-size: 14.0pt"></span></span></p> </ol>  <p>Now, add the following lines after the [self.window makeKeyAndVisible] line in the didFinishLaunchingWithOptions method:</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74"><span style="font-size: 10pt">credential</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> = [</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">AuthenticationCredential</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">credentialWithAzureServiceAccount</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;ACCOUNT_NAME&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">accessKey</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;ACCOUNT_KEY&quot;</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">client</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> = [</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">CloudStorageClient</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">storageClientWithCredential</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">credential</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="mso-spacerun: yes"><span style="font-family: courier new; color: #000000; font-size: 10pt"></span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-size: 10pt">[</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">client</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">getBlobContainersWithBlock</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:^(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSArray</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">* containers, </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">* error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91">if</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> (error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%@&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[error </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">localizedDescription</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #aa0d91; font-size: 10pt">else</span></span><span style="mso-bidi-font-size: 14.0pt"> </span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%i containers were found...&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[containers </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">count</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: consolas; color: #000000; font-size: x-small"></span></span><span style="mso-bidi-font-size: 12.0pt"></span></p> </ol>  <p>Be sure to replace ACCOUNT_NAME and ACCOUNT_KEY with your Windows Azure storage account name and key, available on the Windows Azure portal (<a href="http://windows.azure.com)">http://windows.azure.com)</a>.</p>  <p>Build and run the project.&#160; You should something similar to the following output in the debug window:</p>  <ol>2011-05-06 18:18:46.001 FirstAzureProject[27456:207] 2 containers were found...</ol>  <p>The last line shows that this account has 2 containers.&#160; This will of course vary, depending on how many blob containers you have setup in your own Windows Azure account.</p>  <p><strong>Doing more with the toolkit</strong></p>  <p>Feel free to explore the class documentation to explore more of the toolkit API.&#160; To help, here are some additional examples:</p>  <p>In [ProjectName]AppDelegate.m class, add the following headers:</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #643820"><span style="font-size: 10pt">#import </span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16; font-size: 10pt">&quot;AuthenticationCredential.h&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"> </span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #643820"><span style="font-size: 10pt">#import </span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16; font-size: 10pt">&quot;CloudStorageClient.h&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"> </span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #643820"><span style="font-size: 10pt">#import </span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16; font-size: 10pt">&quot;BlobContainer.h&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"> </span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #643820"><span style="font-size: 10pt">#import </span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16; font-size: 10pt">&quot;Blob.h&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"> </span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #643820"><span style="font-size: 10pt">#import </span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16; font-size: 10pt">&quot;TableEntity.h&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"> </span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #643820"><span style="font-size: 10pt">#import </span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16; font-size: 10pt">&quot;TableFetchRequest.h&quot;</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: consolas; color: #c41a16; font-size: x-small"><span style="mso-bidi-font-size: 14.0pt"></span></span><span style="mso-bidi-font-size: 12.0pt"></span></p> </ol>  <p>In the <strong>didFinishLaunchingWithOptions</strong> method, after the <strong>[self.window makeKeyAndVisible]</strong> line, try testing a few of the following commands.&#160; Again, running the project will return results into the debugger window.</p>  <p>To authenticate using account name and key:</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74"><span style="font-size: 10pt">credential</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> = [</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">AuthenticationCredential</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">credentialWithAzureServiceAccount</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;ACCOUNT_NAME&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">accessKey</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;ACCOUNT_KEY&quot;</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">];</span></span></span><span style="mso-bidi-font-size: 12.0pt"> </span></p> </ol>  <p>To authenticate instead using the proxy service from the Windows Phone 7 toolkit, you can use the following:</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74"><span style="font-size: 10pt">credential</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> = [</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">AuthenticationCredential</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">authenticateCredentialWithProxyURL</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:[</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSURL</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">URLWithString</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;PROXY_URL&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">] </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">user</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;USERNAME&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">password</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;PASSWORD&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">withBlock</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:^(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> *error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #000000; font-size: 10pt">{</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91"><span style="font-size: 10pt">if</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> (error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%@&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[error </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">localizedDescription</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #aa0d91; font-size: 10pt">else</span></span><span style="mso-bidi-font-size: 14.0pt"> </span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;Successfully logged in&quot;</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new"><span style="font-size: 10pt">}</span><span style="mso-spacerun: yes"><span style="font-size: 10pt"> </span></span></span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #000000; font-size: 10pt">}];</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: consolas; color: #000000; font-size: x-small"></span></span><span style="mso-bidi-font-size: 12.0pt"></span></p> </ol>  <p>Replace the PROXY_URL, USERNAME, and PASSWORD with the information required to access your proxy service.</p>  <p>To create a new client using the credentials:</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74"><span style="font-size: 10pt">client</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> = [</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">CloudStorageClient</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">storageClientWithCredential</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">credential</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="font-family: consolas; color: #000000; font-size: x-small"><span style="mso-bidi-font-size: 14.0pt"></span></span></p> </ol>  <p>To list all blob containers (this method is not supported via the proxy server):</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #007400; font-size: 10pt">// get all blob containers</span></span><span style="mso-bidi-font-size: 14.0pt"> </span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-size: 10pt">[</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">client</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">getBlobContainersWithBlock</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:^(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSArray</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> *containers, </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> *error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91">if</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> (error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%@&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[error </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">localizedDescription</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #aa0d91; font-size: 10pt">else</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%i containers were found...&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[containers </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">count</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p> </ol>  <p>To get all blobs within a container (this also is not supported by the proxy):</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #007400; font-size: 10pt">// get all blobs within a container</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-size: 10pt">[</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">client</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">getBlobs</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;images&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">withBlock</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:^(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSArray</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> *blobs, </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> *error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"></span></span><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91">if</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> (error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%@&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[error </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">localizedDescription</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #aa0d91; font-size: 10pt">else</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%i blobs were found in the images container...&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[blobs </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">count</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p> </ol>  <p>To get all tables from storage (this works with both direct access and proxy):</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #007400; font-size: 10pt">// get all tables</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-size: 10pt">[</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">client</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">getTablesWithBlock</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:^(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSArray</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">* tables, </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">* error) </span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91">if</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> (error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%@&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[error </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">localizedDescription</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #aa0d91; font-size: 10pt">else</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%i tables found&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[tables </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">count</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new"><span style="font-size: 10pt">}</span><span style="mso-spacerun: yes"><span style="font-size: 10pt"> </span></span></span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p> </ol>  <p>To create a table (works with both direct access and proxy):</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #007400; font-size: 10pt">// create table</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-size: 10pt">[</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">client</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">createTableNamed</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;wadestable&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">withBlock</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:^(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> *error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91">if</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> (error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%@&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[error </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">localizedDescription</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #aa0d91; font-size: 10pt">else</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;Table created&quot;</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p> </ol>  <p>To delete a table (works with both direct access and proxy):</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #007400; font-size: 10pt">//delete a table</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-size: 10pt">[</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">client</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">deleteTableNamed</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;wadestable&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">withBlock</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:^(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> *error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91">if</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> (error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%@&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[error </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">localizedDescription</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #aa0d91; font-size: 10pt">else</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;Table was deleted&quot;</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p> </ol>  <p>To get entities for a table (works with both account key and proxy):</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #007400; font-size: 10pt">// get entities for table developers</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">TableFetchRequest</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">* fetchRequest = [</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">TableFetchRequest</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">fetchRequestForTable</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;Developers&quot;</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-size: 10pt">[</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">client</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">getEntities</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:fetchRequest </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">withBlock</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:^(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSArray</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> *entities, </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> *error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91">if</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> (error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%@&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[error </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">localizedDescription</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #aa0d91; font-size: 10pt">else</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%i entities found in the developer table&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[entities </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">count</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new"><span style="font-size: 10pt">}</span><span style="mso-spacerun: yes"><span style="font-size: 10pt"> </span></span></span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p> </ol>  <p>To get entities for a table using predicate (works with both account key and proxy):</p>  <ol>   <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #007400; font-size: 10pt">// get entities for table developers with predicate request</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">* error = </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91">nil</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">;</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSPredicate</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">* predicate = [</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSPredicate</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">predicateWithFormat</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;Name = 'Wade' || Name = 'Vittorio' || Name = 'Nathan'&quot;</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">TableFetchRequest</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">* anotherFetchRequest = [</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">TableFetchRequest</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">fetchRequestForTable</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;Developers&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">predicate</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:predicate </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">error</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">:&amp;error];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-size: 10pt">[</span></span></span><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #3f6e74">client</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">getEntities</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:anotherFetchRequest </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">withBlock</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">:^(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSArray</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"> *entities, </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #5c2699">NSError</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> *error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #aa0d91">if</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt"> (error)</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%@&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[error </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">localizedDescription</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="font-family: courier new; color: #aa0d91; font-size: 10pt">else</span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">{</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="font-family: courier new"><span style="font-size: 10pt"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">NSLog</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">(</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #c41a16">@&quot;%i entities returned by this request&quot;</span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000">,[entities </span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #2e0d6e">count</span></span></span><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000; font-size: 10pt">]);</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt; mso-pagination: none; tab-stops: 32.0pt; mso-layout-grid-align: none" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new"><span style="font-size: 10pt">}</span><span style="mso-spacerun: yes"><span style="font-size: 10pt"> </span></span></span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"><span style="color: #000000"><span style="font-family: courier new; font-size: 10pt">}];</span></span></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p>    <p style="line-height: normal; margin: 0in 0in 0pt" class="MsoNormal"><span style="mso-bidi-font-size: 14.0pt"></span></p> </ol>  <p><strong>Doing even more with the toolkit</strong></p>  <p>If you are looking to explore the toolkit further, I recommend looking at the sample application that can be found in the <a href="https://github.com/microsoft-dpe/watoolkitios-samples" target="_blank">watoolkitios-samples</a> project.&#160; This project demonstrates all of the functionality of the toolkit, including creating, uploading, and retrieving entities from both table and blob storage.</p>
