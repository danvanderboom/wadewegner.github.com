--- 
layout: post
title: "WA Toolkit for iOS: New Project Experience with Windows Azure Access Control Service"
categories: 
- iOS
- Toolkit
- Windows Azure
tags: []

status: publish
type: post
published: true
meta: 
  _topsy_long_url: http://www.wadewegner.com/2011/08/wa-toolkit-for-ios-new-project-experience-with-windows-azure-access-control-service/
  topsy_short_url: http://bit.ly/qP5KXR
  dsq_thread_id: "609465926"
---
<p><font color="#000000"><font style="font-size: 8.9pt">The v1.2 release of the Windows Azure Toolkit for iOS includes support for Windows Azure Access Control Service (ACS).<span style="mso-spacerun: yes">&#160; </span>The enables iOS developers to create applications that can use and rely on federated identity providers such as Windows Live, Google Accounts, and Facebook Connect.</font><span style="mso-spacerun: yes"><font style="font-size: 8.9pt">&#160; </font></span></font></p>  <p><font style="font-size: 8.9pt" color="#000000">This walkthrough document covers configuring the ACS service and creating a new iOS project using XCode to authenticate against this service.<span style="mso-spacerun: yes">&#160; </span>This is accomplished using the following three steps in this document:</font></p>  <ol>   <li><font style="font-size: 8.9pt" color="#000000">Manually Configure ACS (Access Control Service).</font> </li>    <li><font style="font-size: 8.9pt" color="#000000">Create New Project and Import Library</font> </li>    <li><font style="font-size: 8.9pt" color="#000000">Expanding the solution with the Cloud Ready Package</font> </li> </ol>  <p><font color="#000000"><font style="font-size: 8.9pt">In order to run through this tutorial, you’ll need an active Windows Azure subscription.<span style="mso-spacerun: yes">&#160; </span>Further information about creating a new account for Windows Azure can be found on </font></font><a style="border-bottom-style: none" href="http://www.windowsazure.com"><font style="font-size: 8.9pt" color="#0000ff"><u>http://www.windowsazure.com</u></font></a></p>  <p><b style="mso-bidi-font-weight: normal"><font style="font-size: 8.9pt" color="#000000">Step 1 – Manually Configure ACS (Access Control Service)</font></b> </p>  <p><font style="font-size: 8.9pt" color="#000000">This section will describe how to configure ACS manually for a new iOS application.<span style="mso-spacerun: yes">&#160; </span>If you have already deployed the Cloud Ready package and configured the service using the Cloud Ready Configuration Wizard, you can skip to Step 2.</font> </p>  <p><font color="#000000"><font style="font-size: 8.9pt">First, access the Windows Azure portal by navigating to </font></font><font style="font-size: 8.9pt"><a style="border-bottom-style: none" href="http://windows.azure.com"><font color="#0000ff"><u>http://windows.azure.com</u></font></a></font><font color="#000000"><font style="font-size: 8.9pt"> and signing in with your credentials.</font></font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS1" border="0" alt="iOSACS1" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS1.jpg" width="218" height="255" /></p>  <p><font style="font-size: 8.9pt" color="#000000">Click on the <b style="mso-bidi-font-weight: normal">Service Bus, Access Control &amp; </b>Caching menu item and select the <b style="mso-bidi-font-weight: normal">Access Control</b> menu item under the <b style="mso-bidi-font-weight: normal">AppFabric</b> folder.<span style="mso-spacerun: yes">&#160; </span>Select an active Windows Azure subscription and click on the <b style="mso-bidi-font-weight: normal">New</b> button in the toolbar.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS2" border="0" alt="iOSACS2" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS2.jpg" width="241" height="274" /></p>  <p><font style="font-size: 8.9pt" color="#000000">The new service namespace dialog will open.<span style="mso-spacerun: yes">&#160; </span>Ensure that <b style="mso-bidi-font-weight: normal">Access Control</b> is selected, and enter a unique namespace and country/region for the service.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS3" border="0" alt="iOSACS3" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS3.jpg" width="578" height="272" /></p>  <p><font style="font-size: 8.9pt" color="#000000">The ACS namespace will now be created.<span style="mso-spacerun: yes">&#160; </span>This might take a few minutes.<span style="mso-spacerun: yes">&#160; </span>Wait until the namespace is showing in an <b style="mso-bidi-font-weight: normal">Active</b> state.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS4" border="0" alt="iOSACS4" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS4.jpg" width="578" height="27" /></p>  <p><font color="#000000"><font style="font-size: 8.9pt">Once this is complete, highlight the newly created service and click on the <b style="mso-bidi-font-weight: normal">Access Control Service</b> button in the toolbar.<span style="mso-spacerun: yes">&#160; </span>This will launch the Access Control Service portal.</font><span style="mso-spacerun: yes"><font style="font-size: 8.9pt">&#160; </font></span></font></p>  <p><font style="font-size: 8.9pt" color="#000000">Within the portal, click on<b style="mso-bidi-font-weight: normal"> Identity Providers </b>and add the identity providers you would like to use for your application.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS5" border="0" alt="iOSACS5" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS5.jpg" width="578" height="170" /></p>  <p><font style="font-size: 8.9pt" color="#000000">The default is Windows Live ID, but you can add other preconfigured providers (such as Google and Yahoo!) as well as external identity systems configured to use WS-Federation.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">Once you have added the required providers, click on the <b style="mso-bidi-font-weight: normal">Relying Parties</b> section of the portal.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS6" border="0" alt="iOSACS6" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS6.jpg" width="578" height="172" /></p>  <p><font style="font-size: 8.9pt" color="#000000">Click on the <b style="mso-bidi-font-weight: normal">Add</b> button and enter the following information for the relying party application:</font></p>  <p><font color="#000000"><b style="mso-bidi-font-weight: normal"><font style="font-size: 8.9pt">Name</font></b><font style="font-size: 8.9pt"> – a given name for your application        <br /></font></font><font color="#000000"><b style="mso-bidi-font-weight: normal"><font style="font-size: 8.9pt">Realm</font></b><font style="font-size: 8.9pt"> – a unique ID for your application.<span style="mso-spacerun: yes">&#160; </span>For this walkthrough, we’ll be using uri:wazmobiletoolkit         <br /></font></font><font color="#000000"><b style="mso-bidi-font-weight: normal"><font style="font-size: 8.9pt">Return URL</font></b><font style="font-size: 8.9pt"> – you can leave this blank        <br /></font></font><font color="#000000"><b style="mso-bidi-font-weight: normal"><font style="font-size: 8.9pt">Error URL</font></b><font style="font-size: 8.9pt"> – you can leave this blank        <br /></font></font><font color="#000000"><b style="mso-bidi-font-weight: normal"><font style="font-size: 8.9pt">Token Format</font></b><font style="font-size: 8.9pt"> – select SWT        <br /></font></font><font color="#000000"><b style="mso-bidi-font-weight: normal"><font style="font-size: 8.9pt">Token Lifetime</font></b><font style="font-size: 8.9pt"> – Feel free to change the default from 600 seconds.</font><span style="mso-spacerun: yes"><font style="font-size: 8.9pt">&#160; </font></span></font></p>  <p><font style="font-size: 8.9pt" color="#000000">Select the identity providers that you would like to use, and then under the <b style="mso-bidi-font-weight: normal">Token Signing Settings</b> section, click on the <b style="mso-bidi-font-weight: normal">Generate</b> button to create a new symmetric key that will be used for this application.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">Finally, click on the <b style="mso-bidi-font-weight: normal">Save</b> button.<span style="mso-spacerun: yes">&#160; </span>This will create the Relying Party Application.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">Next, go into the <b style="mso-bidi-font-weight: normal">Rule Groups</b> section of the portal and select the default rule group that was created for the application.</font> </p>  <p><a href="http://images.wadewegner.com/wordpress/2011/08/iOSACS7.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS7" border="0" alt="iOSACS7" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS7_thumb.jpg" width="561" height="174" /></a></p>  <p><font style="font-size: 8.9pt" color="#000000">Click on the <b style="mso-bidi-font-weight: normal">Generate</b> link in order to generate a set of default rules for this rule group.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS8" border="0" alt="iOSACS8" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS8.jpg" width="564" height="75" /></p>  <p><font style="font-size: 8.9pt" color="#000000">Select the providers that you wish to use, and click on the <b style="mso-bidi-font-weight: normal">Generate</b> button.<span style="mso-spacerun: yes">&#160; </span>Once this is complete, you should see a set of rules.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS9" border="0" alt="iOSACS9" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS9.jpg" width="569" height="182" /></p>  <p><font color="#000000"><font style="font-size: 8.9pt">After this step is complete, ACS has now been configured correctly to be used with your iOS application.<span style="mso-spacerun: yes">&#160; </span>Make a note of your Service Namespace (found at the top of the portal) and Realm as you’ll need these in the next step of the walkthrough.<span style="mso-spacerun: yes">&#160; </span></font><span style="mso-spacerun: yes"><font style="font-size: 8.9pt">&#160;</font></span></font></p>  <p><b style="mso-bidi-font-weight: normal"><font style="font-size: 8.9pt" color="#000000">Step 2 – Create New Project and Import Library</font></b></p>  <p><font color="#000000"><font style="font-size: 8.9pt">The following has been tested with XCode 4.0.2 or higher.</font><span style="mso-spacerun: yes"><font style="font-size: 8.9pt">&#160; </font></span></font></p>  <p><font color="#000000"><font style="font-size: 8.9pt">Before you begin, you should download the latest version of the Windows Azure Toolkit for iOS library from </font></font><font style="font-size: 8.9pt"><a style="border-bottom-style: none" href="http://github.com/microsoft-dpe/watoolkitios-lib"><font color="#0000ff"><u>http://github.com/microsoft-dpe/watoolkitios-lib</u></font></a></font><font style="font-size: 8.9pt" color="#000000">.<span style="mso-spacerun: yes">&#160; </span>Save the zip file in a place that can be found later.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">To start, launch XCode 4 and create a new project.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS10" border="0" alt="iOSACS10" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS10.jpg" width="578" height="393" />&#160;</p>  <p><font style="font-size: 8.9pt" color="#000000">From the project template dialog, select a <b style="mso-bidi-font-weight: normal">View-based application</b> and click on the <b style="mso-bidi-font-weight: normal">Next</b> button.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS11" border="0" alt="iOSACS11" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS11.jpg" width="578" height="398" /></p>  <p><font style="font-size: 8.9pt" color="#000000">Enter a <b style="mso-bidi-font-weight: normal">Product Name</b> and <b style="mso-bidi-font-weight: normal">Company Identifier</b> and click on the <b style="mso-bidi-font-weight: normal">Next</b> button to continue.<span style="mso-spacerun: yes">&#160; </span>Select a directory to use for the project file and return to the IDE.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">Next, locate the version of the Windows Azure toolkit for iOS library that you downloaded earlier.<span style="mso-spacerun: yes">&#160; </span>In the download will be a zip file containing two versions of the library (one for the device, one for the simulator) and some header files for the project.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">Right click on your project and select the <b style="mso-bidi-font-weight: normal">Add Files to…</b> menu option.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS12" border="0" alt="iOSACS12" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS12.jpg" width="292" height="241" /></p>  <p><font style="font-size: 8.9pt" color="#000000">Locate the .a file (for the simulator) and header files and add them to your project.<span style="mso-spacerun: yes">&#160; </span>You may want to create a new group (called lib) to store these in.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS13" border="0" alt="iOSACS13" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS13.jpg" width="276" height="222" />&#160;</p>  <p><font color="#000000"><font style="font-size: 8.9pt">Now we need to add a reference to a library required for XML parsing.<span style="mso-spacerun: yes">&#160; </span>To do this, click on the top most project file, click on the target in the 2<sup>nd</sup> column of the IDE, and select <b style="mso-bidi-font-weight: normal">Build Phases</b> from the tab menu.</font></font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS14" border="0" alt="iOSACS14" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS14.jpg" width="578" height="95" /></p>  <p><font style="font-size: 8.9pt" color="#000000">In the main window, expand the <b style="mso-bidi-font-weight: normal">Link Binary with Libraries</b> option.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">Ensure that the libwatoolkitios.a file has been automatically added as a reference, click the + button to add a new library, and select the libxml2.dylib library from the drop down list.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS15" border="0" alt="iOSACS15" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS15.jpg" width="261" height="374" /></p>  <p><font style="font-size: 8.9pt" color="#000000">Click on the <b style="mso-bidi-font-weight: normal">Add</b> button to add a reference to this library for your project.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">Before we start adding any code, we need to add a couple of required linker flags to the project.<span style="mso-spacerun: yes">&#160; </span>To do this, click on the <b style="mso-bidi-font-weight: normal">Build Settings</b> tab (next to Build Phases).</font></p>  <p><font style="font-size: 8.9pt" color="#000000">In the search box, type “other linker” to filter the settings.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS16" border="0" alt="iOSACS16" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS16.jpg" width="578" height="76" /></p>  <p><font style="font-size: 8.9pt" color="#000000">You should see a setting called <b style="mso-bidi-font-weight: normal">Other Linker Flags</b>.<span style="mso-spacerun: yes">&#160; </span>Double click on the right side of this row to add new flags.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">Click on the + button to add two flags.<span style="mso-spacerun: yes">&#160; </span>The first is <b style="mso-bidi-font-weight: normal">–ObjC</b> and the second is <b style="mso-bidi-font-weight: normal">–all_load</b>.<span style="mso-spacerun: yes">&#160; </span>Once complete, your linker flags should look like the following screenshot:</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS17" border="0" alt="iOSACS17" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS17.jpg" width="578" height="129" /></p>  <p><font style="font-size: 8.9pt" color="#000000">Click on the <b style="mso-bidi-font-weight: normal">Done</b> button to save these settings.<span style="mso-spacerun: yes">&#160; </span>The project is now configured correctly to reference the Windows Azure Toolkit library.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">To test that the library works, click on the project’s <b style="mso-bidi-font-weight: normal">[ProjectName]AppDelegate.m</b> file.<span style="mso-spacerun: yes">&#160; </span>Add the following #import statement at the top of the class:</font></p>  <p><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#643820"><font style="font-size: 8.9pt">#import </font></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#c41a16">&quot;WACloudAccessControlClient.h&quot;</font></span></font><span style="mso-bidi-font-size: 12.0pt"></span></p>  <p><font style="font-size: 8.9pt" color="#000000">Next, search for a method called <b style="mso-bidi-font-weight: normal">didFinishLaunchingWithOptions </b>and after the <b style="mso-bidi-font-weight: normal">[self.window makeKeyAndVisible]</b> line, enter the following code.</font> </p>  <p><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e"><font style="font-size: 8.9pt">NSLog</font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">(</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;Intializing the Access Control Client...&quot;</font></span></font></font><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">);          <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74"><font style="font-size: 8.9pt">WACloudAccessControlClient</font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> *acsClient = [</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74">WACloudAccessControlClient</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">accessControlClientForNamespace</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;iostest-walkthrough&quot;</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">realm</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;uri:wazmobiletoolkit&quot;</font></span></font></font><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">];          <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">[acsClient </font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">showInViewController</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#aa0d91">self</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">.</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74">viewController</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">allowsClose</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#aa0d91">NO</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">withCompletionHandler</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:^(</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#aa0d91">BOOL</font></span></font></font><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000"> authenticated)          <br />{           <br /></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#aa0d91">&#160;&#160; if</font></span></font></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000" face="Courier New"> (!authenticated)        <br /></font></span><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">&#160;&#160; {            <br /></font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">&#160;&#160;&#160;&#160;&#160; NSLog</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">(</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;Error authenticating&quot;</font></span></font></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000" face="Courier New">);        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt" face="Courier New">&#160;&#160; }          <br /></font></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#aa0d91" face="Courier New">&#160;&#160; else        <br /></font></span><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">&#160;&#160; {            <br /></font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">&#160;&#160;&#160;&#160;&#160; NSLog</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">(</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;Creating the authentication token...&quot;</font></span></font></font><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">);          <br /></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74">&#160;&#160;&#160;&#160;&#160; WACloudAccessToken</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> *token = [</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74">WACloudAccessControlClient</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">sharedToken</font></span></font></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000" face="Courier New">];        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#007400" face="Courier New">&#160;&#160;&#160;&#160;&#160; /* Do something with the token here! */        <br /></font></span><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">&#160;&#160; }            <br /></font></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">}];</font></span></font></p>  <p><font color="#000000"><font style="font-size: 8.9pt">Replace the namespace and realm in the first line with the service namespace and realm for your own service, as created in Step 1.</font><span style="mso-spacerun: yes"><font style="font-size: 8.9pt">&#160; </font></span></font></p>  <p><font color="#000000"><font style="font-size: 8.9pt">As you can see from the above, the code creates a new instance of the access control client, requests that the client shows itself in the current view controller, and then extracts a token.</font><span style="mso-spacerun: yes"><font style="font-size: 8.9pt">&#160; </font></span></font></p>  <p><font color="#000000"><font style="font-size: 8.9pt">Build and run the application in the iOS Simulator.</font><span style="mso-spacerun: yes"><font style="font-size: 8.9pt">&#160; </font></span></font></p>  <p><font style="font-size: 8.9pt" color="#000000">Once the application starts, you should be prompted to select an identity provider from the list that you configured in your ACS service.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS18" border="0" alt="iOSACS18" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS18.jpg" width="311" height="584" /></p>  <p><font style="font-size: 8.9pt" color="#000000">Pick one of the providers, and enter a valid set of credentials.</font> </p>  <p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS19" border="0" alt="iOSACS19" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS19.jpg" width="317" height="596" /></p>  <p><font style="font-size: 8.9pt" color="#000000">Click on the <b style="mso-bidi-font-weight: normal">Remember me</b> checkbox if you want to skip this step when running this application again, and click on the <b style="mso-bidi-font-weight: normal">Sign in</b> button.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">The first time the application is run, you’ll be prompted to authorize the application to access your provider data.</font> </p>  <p><a href="http://images.wadewegner.com/wordpress/2011/08/iOSACS20.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="iOSACS20" border="0" alt="iOSACS20" src="http://images.wadewegner.com/wordpress/2011/08/iOSACS20_thumb.jpg" width="330" height="620" /></a></p>  <p><font style="font-size: 8.9pt" color="#000000">Click on the <b style="mso-bidi-font-weight: normal">Allow</b> button to continue.<span style="mso-spacerun: yes">&#160; </span>The login window will now disappear and you’ll be returned to your application.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">In the debug window, you should see the following two logs:</font></p>  <p><font face="Courier New"><span style="font-family: courier new; color: ; mso-bidi-font-size: 14.0pt"><font style="font-size: 11pt" color="#000000">2011-07-22 10:12:26.284 iostest-walkthrough[25838:207] Intializing the Access Control Client...          <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 14.0pt"><font style="font-size: 11pt" color="#000000">2011-07-22 10:12:36.359 iostest-walkthrough[25838:207] Creating the authentication token...</font></span></font><span style="mso-bidi-font-size: 12.0pt"></span></p>  <p><font style="font-size: 8.9pt" color="#000000">The final message indicates that the access token was retrieved and can be used for further use.<span style="mso-spacerun: yes">&#160; </span>The <b style="mso-bidi-font-weight: normal">WACloudAccessToken</b> (derived from <b style="mso-bidi-font-weight: normal">[WACloudAccessControlClient sharedToken]</b>) contains an NSDictionary of claims and other properties that can be stored within your application.<span style="mso-spacerun: yes">&#160; </span>Using these properties on future calls can be used to identify returning users to your application.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">Congratulations!<span style="mso-spacerun: yes">&#160; </span>You’ve successfully built an application that can use the Windows Azure ACS service for federated identity!</font></p>  <p><b style="mso-bidi-font-weight: normal"><font style="font-size: 8.9pt" color="#000000">Step 3 – Expanding the solution with the Cloud Ready Package</font></b></p>  <p><font style="font-size: 8.9pt" color="#000000">If you have deployed the Cloud Ready package and configured your ACS service with the Cloud Ready Configuration Utility, you can also extend your sample by using the returned <b style="mso-bidi-font-weight: normal">WACloudAccessToken</b> to securely access blob, table, and queue storage in Windows Azure.</font></p>  <p><font style="font-size: 8.9pt" color="#000000">To do this, create a new <b style="mso-bidi-font-weight: normal">WAAuthenticationCredential</b> object using the token, use this to initialize the <b style="mso-bidi-font-weight: normal">WACloudStorageClient</b> and then make calls to the storage type. </font></p>  <p><font style="font-size: 8.9pt" color="#000000">The following code example shows how this can be done.</font> </p>  <p><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74"><font style="font-size: 8.9pt">WAAuthenticationCredential</font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> *credential = [</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74">WAAuthenticationCredential</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">authenticateCredentialWithProxyURL</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:[</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#5c2699">NSURL</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">URLWithString</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;[URL OF YOUR CLOUD READY PACKAGE]&quot;</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">] </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">accessToken</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:[</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74">WACloudAccessControlClient</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">sharedToken</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">]];        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e"><font style="font-size: 8.9pt">NSLog</font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">(</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;Creating the storage client...&quot;</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">);</font></span></p>  <p><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74"><font style="font-size: 8.9pt">WACloudStorageClient</font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> *storageClient = [</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74">WACloudStorageClient</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">storageClientWithCredential</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">:credential];        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">[</font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#3f6e74">WACloudStorageClient</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">ignoreSSLErrorFor</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;[FIRST PART OF THE URL FOR YOUR CLOUD READY PACKAGE]&quot;</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">];        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e"><font style="font-size: 8.9pt">NSLog</font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">(</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;Accessing table storage...&quot;</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">);</font></span></p>  <p><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">[storageClient </font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#26474b">fetchTablesWithCompletionHandler</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:^(</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#5c2699">NSArray</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> *tables, </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#5c2699">NSError</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000"> *error)        <br />{         <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#aa0d91"><font style="font-size: 8.9pt">&#160;&#160; if</font></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000"> (!error)        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">&#160;&#160; {          <br /></font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">&#160;&#160;&#160;&#160;&#160; NSLog</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">(</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;%i Tables were found!&quot;</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">, [tables </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">count</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">]);          <br />&#160;&#160;&#160;&#160;&#160; </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#5c2699">UIAlertView</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> *alert = [[</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#5c2699">UIAlertView</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">alloc</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">] </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">initWithTitle</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;Table Storage&quot;</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">message</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:[</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#5c2699">NSString</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">stringWithFormat</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;%i tables were found!&quot;</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">,[tables </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">count</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">]] </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">delegate</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#aa0d91">nil</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">cancelButtonTitle</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;OK&quot;</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"> </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">otherButtonTitles</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">:</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#aa0d91">nil</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">];        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">&#160;&#160;&#160;&#160;&#160; [alert </font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">show</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">];        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">&#160;&#160;&#160;&#160;&#160; [alert </font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">release</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">];        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">&#160;&#160; }          <br /></font></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#aa0d91"><font style="font-size: 8.9pt">&#160;&#160; else          <br /></font></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">&#160;&#160; {          <br /></font></font></span><font style="font-size: 8.9pt"><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">&#160;&#160; NSLog</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">(</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#c41a16">@&quot;%@&quot;</font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000">, [error </font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#2e0d6e">localizedDescription</font></span></font><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">]);        <br /></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font color="#000000"><font style="font-size: 8.9pt">&#160;&#160; }          <br /></font></font></span><span style="font-family: courier new; color: ; mso-bidi-font-size: 18.0pt"><font style="font-size: 8.9pt" color="#000000">}];</font></span></p>  <p><font style="font-size: 8.9pt" color="#000000">Replace the URL strings in the above code with the correct URLs for your deployed Cloud Ready package.<span style="mso-spacerun: yes">&#160; </span>If everything works, after you sign in to the application you should see an alert box showing the number of tables in your storage account.</font></p>
