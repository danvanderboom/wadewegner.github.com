--- 
layout: post
title: Code for the Windows Azure AppFabric Caching demo
categories: 
- Caching
- PDC10
- Windows Azure
- Windows Azure AppFabric
tags: []

status: publish
type: post
published: true
meta: 
  dsq_thread_id: "609466187"
---
<p>This post is long overdo.&#160; At PDC10 I recorded the session <a href="http://player.microsoftpdc.com/Session/1f607983-c6eb-4d9f-b644-55247e8adda6" target="_blank">Introduction to Windows Azure AppFabric Caching</a>, where I introduced the new Caching service.&#160; As part of the presentation I gave a demo where I updated an existing ASP.NET web application running in a Windows Azure web role to use the caching service.&#160; For details on the caching service, please <a href="http://player.microsoftpdc.com/Session/1f607983-c6eb-4d9f-b644-55247e8adda6" target="_blank">watch the presentation</a>.</p>  <p>In this presentation I showed three uses of the caching service:</p>  <ol>   <li>Using the Caching service as the session state provider. </li>    <li>Using the Caching service as an explicit cache for reference data stored in SQL Azure. </li>    <li>Using the Caching service along with the local cache feature to store resource data in the web client. </li> </ol>  <p>If you want to see this application running in Windows Azure, take a look here: <a href="http://cachedemo.cloudapp.net/">http://cachedemo.cloudapp.net/</a></p>  <p>I had meant to immediately post the code to this application so that you can try it out yourself, but alas PDC10 and TechEd EMEA set me back quite a bit.&#160; So, without further ado, here are the files you’ll need:</p>  <p></p> <iframe style="padding-bottom: 0px; background-color: #fcfcfc; padding-left: 0px; width: 98px; padding-right: 0px; height: 115px; padding-top: 0px" title="Preview" marginheight="0" src="http://cid-952ba2b9cf071aa0.office.live.com/embedicon.aspx/.Public/CacheService.zip" frameborder="0" marginwidth="0" scrolling="no"></iframe>&#160;<iframe style="padding-bottom: 0px; background-color: #fcfcfc; padding-left: 0px; width: 98px; padding-right: 0px; height: 115px; padding-top: 0px" title="Preview" marginheight="0" src="http://cid-952ba2b9cf071aa0.office.live.com/embedicon.aspx/.Public/NorthwindProducts.zip" frameborder="0" marginwidth="0" scrolling="no"></iframe>  <p>   <br /><strong>CacheService.zip</strong> contains the solution and projects required to run the application.&#160; <strong>NothwindProducts.zip</strong> contains the SQL scripts required to setup the SQL Azure (if you want to use SQL Server, you’ll have to update the connection string accordingly) database you’ll need to use.</p>  <p>You’ll have to update a few items in the <strong>web.config</strong> file.&#160; Search and replace the following items:</p>  <ul>   <li>YOURCACHE – get this from the <a href="http://portal.appfabriclabs.com/" target="_blank">AppFabric portal</a></li>    <li>YOURTOKEN – get this from the <a href="http://portal.appfabriclabs.com/" target="_blank">AppFabric portal</a></li>    <li>YOURDATABASE (2 instances) – get this from the <a href="http://sql.azure.com/">SQL Azure portal</a></li>    <li>YOURUSERNAME – get this from the <a href="http://sql.azure.com/">SQL Azure portal</a></li>    <li>YOURPASSWORD – get this from the <a href="http://sql.azure.com/">SQL Azure portal</a></li> </ul>  <p>Once you have made these updates, hit F5 to run locally.</p>  <p><strong>Please note</strong>: when you run this locally against the Caching service, you will encounter significant network latency!&#160; This is to be expected, as you are making a number of network hops to get to the data center in order to reach your cache.&#160; To get the best results, deploy your application to <strong>South Central US</strong> as this is where the AppFabric LABS portal creates your cache.</p>  <p>If you have any problems or questions, please let me know.</p>
