--- 
layout: post
title: Deleting Team Project in TFS doesn't really delete the Team Project
categories: 
- Team Foundation Server
tags: []

status: publish
type: post
published: true
meta: 
  _sexybookmarks_shortUrl: http://bit.ly/ax7czW
  _sexybookmarks_permaHash: 1ba7329c1eb12bb78b003ed998981803
  dsq_thread_id: "609464812"
---
<p>One of the things I learned while <a href="http://www.wadewegner.com/2007/08/20/SettingUpAVirtualVisualStudio2005TeamFoundationServer.aspx">setting up a virtual Team Foundation Server (TFS) environment</a> is that there are definitely a few "gotchas."&nbsp; I encountered one of these while writing up some documentation on how to integrate a Web Application Project (WAP).</p>
<p>Before I began documenting the procedure, I went through and confirmed that everything would work.&nbsp; When I was finished, I figured I would delete the Team Project and start over.&nbsp; However, this didn't work as I expected.&nbsp; Here's what I did:</p>
<ol>
<li>Created Team Project.
<li>Added my WAP to the Team Project source control.
<li>Created a new Build Type.
<li>Ran the new build.&nbsp; Worked fine.
<li>Deleted the Team Project. </li>
<ul>
<li>Clicked Start -&gt; All Programs -&gt; Microsoft Visual Studio 2005 -&gt; Visual Studio Tools -&gt; Visual Studio 2005 Command Prompt
<li>Typed the command: TFSDeleteProject /Server:&lt;ServerName&gt; &lt;TeamProjectName&gt;</li></ul>
<li>Created a new Team Project with the same name.
<li>Added the WAP to the Team Project source control.
<li>Created a new Build Type.
<li>Ran the build and received the following error:</li></ol>
<p><a href="http://images.wadewegner.com/wordpress/content/binary/WindowsLiveWriter/441054752d16_DDAD/image.png" atomicselection="true"><img style="BORDER-RIGHT: 0px; BORDER-TOP: 0px; BORDER-LEFT: 0px; BORDER-BOTTOM: 0px" height=192 alt="TF50608: Unable to retrieve information for security object $PROJECT:vsts:///Classification/TeamProject/<guid, it does not exist." src="http://images.wadewegner.com/wordpress/content/binary/WindowsLiveWriter/441054752d16_DDAD/image_thumb.png" width=432 border=0></a> </p>
<blockquote>
<p><font face="Courier New">TF50608: Unable to retrieve information for security object $PROJECT:vsts:///Classification/TeamProject/&lt;guid, it does not exist.</font></p></blockquote>
<p>Turns out that when you delete a Team Project, it isn't really deleted.&nbsp; Parts of the project, including version control and work items, are maintained in the Team Foundation Data Warehouse and aren't removed when the project is deleted.&nbsp; Consequently, when you recreate a Team Project there is lingering data.</p>
<p>This is pretty disappointing; it seems that, for all intents and purposes, TFS is corrupt.&nbsp; The only way I could move forward was to create a new Team Project with a different name.
<p>Anyone have any insight?</p>
