--- 
layout: post
title: Using Windows Azure for Windows Phone 7 Push Notification Support
categories: 
- Push Notification
- Toolkit
- Windows Azure
- Windows Phone 7
tags: []

status: publish
type: post
published: true
meta: 
  dsq_thread_id: "609466329"
---
<p>At MIX11 we released the <a href="http://watoolkitwp7.codeplex.com/releases/view/61952">Windows Azure Toolkit for Windows Phone 7 v1.1.0</a>, which included out-of-the-box support for the <a href="http://msdn.microsoft.com/en-us/library/ff402558%28VS.92%29.aspx">Microsoft Push Notification Service</a> (MPNS) for Windows Phone. The MPNS provides an efficient way for an application to register itself for updates that are pushed directly to the phone rather than writing the application to frequently poll a web service to look for pending notifications.&#160; This has the benefit of reducing the impact on your phone battery, as polling results in the device radio turning on frequently.</p>  <p>When using the MPNS you need to setup your own web service that notifies Microsoft to send the notification. It’s your responsibility to setup this service – you have to create the notification channel, bind it to the correct type of notification, and ultimately host the web service. The Windows Azure Toolkit for Windows Phone 7 makes it really easy to not only host your web service in Windows Azure but also create the channel and setup the correct notification binding (largely thanks to the <a href="http://windowsteamblog.com/windows_phone/b/wpdev/archive/2011/01/14/windows-push-notification-server-side-helper-library.aspx">Windows Push Notification Service Side Helper Library</a> from Yochay Kiriaty).</p>  <p>To get started, grab v1.1 of the toolkit from our CodePlex site: <a title="http://watoolkitwp7.codeplex.com/" href="http://watoolkitwp7.codeplex.com/">http://watoolkitwp7.codeplex.com/</a>.&#160; If this is your first time, take a look at the <a href="http://watoolkitwp7.codeplex.com/wikipage?title=Getting%20Started&amp;referringTitle=Documentation">Getting Started documentation</a> and <a href="http://channel9.msdn.com/posts/Getting-Started-with-the-Windows-Azure-Toolkit-for-Windows-Phone-7">webcast</a>.</p>  <p>Once you start up the application, the first thing you’ll want to do is enable push notifications.&#160; To do this, check the box on the initial page to create the channel.</p>  <p><a href="http://images.wadewegner.com/wordpress/2011/05/image.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb.png" width="171" height="311" /></a></p>  <p>Once this has successfully registered, head over to the website and log in as the administrator.&#160; There’s now a Push Notifications tab where you’ll see your user registered:</p>  <p><a href="http://images.wadewegner.com/wordpress/2011/05/image1.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb1.png" width="404" height="244" /></a></p>  <p>From here you can the the push notification channel by sending all three push types: toast, tile, and raw.&#160; In that order, here’s what you’ll see (note: to see the tile message you must first pin the app to start):</p>  <p><a href="http://images.wadewegner.com/wordpress/2011/05/image2.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb2.png" width="171" height="311" /></a>&#160;<a href="http://images.wadewegner.com/wordpress/2011/05/image3.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb3.png" width="171" height="311" /></a>&#160;<a href="http://images.wadewegner.com/wordpress/2011/05/image4.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://images.wadewegner.com/wordpress/2011/05/image_thumb4.png" width="171" height="311" /></a></p>  <p>Not bad for an out-of-the-box experience requiring ZERO updates!</p>  <p>To learn more about this version of the toolkit – or to see it live and in action – take a look at the session I presented at MIX11 entitled <a href="http://channel9.msdn.com/Events/MIX/MIX11/SVC02">Building Windows Phone 7 Applications with the Windows Azure Platform</a>.</p>  <p><object type="application/x-silverlight-2" data="data:application/x-silverlight-2," width="500" height="283"><param name="minRuntimeVersion" value="4.0.50401.0" /><param name="source" value="http://channel9.msdn.com/scripts/Channel9.xap?v=1.5" /><param name="initParams" value="mediaurl=http://smooth.ch9.ms/ch9/4CA0/8545FA95-9967-4259-B3F9-9EA800E74CA0/MIX11SVC02.ism/manifest,thumbnail=http://files.ch9.ms/mix/2011/thumbs/SVC02_lg.jpg,deliverymethod=adaptivestreaming,autoplay=false,entryid=8545fa9599674259b3f99ea800e74ca0" /></object></p>  <p>Hope this helps!</p>
