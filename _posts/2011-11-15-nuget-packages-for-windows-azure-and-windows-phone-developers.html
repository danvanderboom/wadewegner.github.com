--- 
layout: post
title: NuGet Packages for Windows Azure and Windows Phone Developers
categories: 
- ACS
- NuGet
- Push Notification
- Windows Azure
- Windows Phone
tags: []

status: publish
type: post
published: true
meta: 
  _topsy_long_url: http://www.wadewegner.com/2011/11/nuget-packages-for-windows-azure-and-windows-phone-developers/
  topsy_short_url: http://bit.ly/uOYxLl
  dsq_thread_id: "609466244"
---
<p>If you’ve been paying attention to the <a href="http://watwp.codeplex.com/" target="_blank">Windows Azure Toolkit for Windows Phone</a> (or my <a href="http://twitter.com/WadeWegner" target="_blank">twitter feed</a>) the last couple weeks, you’ve probably noticed something about NuGet packages. We’ve been building a lot of Windows Phone and Windows Azure NuGet packages that, when composed together, give you the ability to quickly build some cool applications. To highlight this, here’s a short video that shows how you can enable push notification support in a brand new Windows Phone 7.1 project—and send notifications from a new ASP.NET MVC 3 Web Application running in Windows Azure—in less than two minutes!</p>  <p><iframe style="width: 600px; height: 304px" src="http://channel9.msdn.com/Events/windowsazure/learn/Windows-Phone-Push-Notifications-and-Windows-Azure/player?w=600&amp;h=304" frameborder="0" scrolling="no"></iframe></p>  <p>Here’s a look at how to use the storage NuGet packages to quickly (and securely) upload a picture from the Windows Phone to Windows Azure blob storage.</p>  <p><iframe style="width: 600px; height: 304px" src="http://channel9.msdn.com/Events/windowsazure/learn/Using-Windows-Azure-Storage-on-Windows-Phone/player?w=600&amp;h=304" frameborder="0" scrolling="no"></iframe></p>  <p>All of this is made possible by delivering functional, discrete, and composable NuGet packages. I’ve gotten a lot of feedback (positive and <em>constructive</em>, but fortunately mostly positive) about the <a href="http://watwp.codeplex.com/" target="_blank">Windows Azure Toolkit for Windows Phone</a>, and invariably people have said that it’s too hard to decompose the sample applications – often times people just want Push Notification support or user management, and it’s too hard to get rid of the rest.</p>  <p>I think the NuGet packages make it very easy to do two things:</p>  <ol>   <li>Build brand new applications that quickly can get some advanced capabilities </li>    <li>Quickly update existing applications to get some desirable enhancements </li> </ol>  <p>This is largely possible because we can easily manage and deliver dependencies through NuGet. Let us handle the hard stuff – you focus on building out cool applications.</p>  <p>In this post I’d like to provide a list and description of the NuGet packages we’ve delivered so far – I imagine I’ll update this post many times to keep it accurate. I don’t plan to show exactly how to use these packages—I’ll save that for many future posts—but instead I want to use this post as a reference and guidepost moving forward.</p>  <p>So, without further ado, I’d like to introduce you to the two kinds of NuGet packages we have today: Client Side NuGet Packages, and Server Side NuGet Packages.</p>  <p><strong><u><font size="3">Client Side NuGet Packages</font></u></strong></p>  <p>The first set of NuGet packages to be aware of are the NuGet packages for Windows Phone, designed to target Windows Phone OS 7.1 project types.</p>  <p><a href="http://images.wadewegner.com/wordpress/2011/11/Windows-Phone-OS-7.1.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Windows Phone OS 7.1" border="0" alt="Windows Phone OS 7.1" src="http://images.wadewegner.com/wordpress/2011/11/Windows-Phone-OS-7.1_thumb.jpg" width="373" height="178" /></a></p>  <p>You can use these NuGets in a number of interesting ways. For example, you can quickly incorporate the <a href="http://www.microsoft.com/windowsazure/features/accesscontrol/" target="_blank">Access Control Service</a> into your phone applications using the following NuGet packages:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/Phone.Identity.AccessControl" target="_blank">Phone.Identity.AccessControl</a></strong>: Access Control Service Log In control for Windows Phone. </li>    <li><strong><a href="http://www.nuget.org/List/Packages/Phone.Identity.AccessControl.BasePage" target="_blank">Phone.Identity.AccessControl.BasePage</a></strong>: Base log in page for Windows Phone that uses the Access Control Service Log In control. </li> </ul>  <p>If you’re not using ACS but instead want simple username/password, you can quickly incorporate membership into your phone applications using the following NuGet packages:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/Phone.Identity.Membership" target="_blank">Phone.Identity.Membership</a></strong>: Membership Sign In control for Windows Phone. </li>    <li><strong><a href="http://www.nuget.org/List/Packages/Phone.Identity.Membership.BasePage" target="_blank">Phone.Identity.Membership.BasePage</a></strong>: Base log in and register pages for Windows Phone that use the Membership Log In control </li> </ul>  <p>To get full support for Push Notifications (including Mango updates like deep linking) you can easily incorporate Push Notifications using the following NuGet packages:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/Phone.Notifications" target="_blank">Phone.Notifications</a></strong>: Class library for Windows Phone to communicate with the Push Notification Registration Cloud Service. </li>    <li><strong><a href="http://www.nuget.org/List/Packages/Phone.Notifications.BasePage" target="_blank">Phone.Notifications.BasePage</a></strong>: Base notifications page for Windows Phone to register / unregister with the Push Notification Registration Cloud Service for receiving push notification messages. </li> </ul>  <p>In scenarios where you’d want to secure your notification services using the Access Control Service, you can use the following packages:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/Phone.Notifications.AccessControl" target="_blank">Phone.Notifications.AccessControl</a></strong>: This package enables communication with the Push Notification Registration Cloud Service using Windows Azure Access Control Service (ACS) for authentication, by adding a set of base pages to the phone application.       <br />      <br />The dependencies and relationships between these NuGets are as follows:&#160; <br /><img style="background-image: none; border-right-width: 0px; margin: 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Phone.Notifications.AccessControl" border="0" alt="Phone.Notifications.AccessControl" src="http://images.wadewegner.com/wordpress/2011/11/Phone.Notifications.AccessControl.png" width="552" height="172" /> </li> </ul>  <p>In scenarios where you’d want to secure your notification services using traditional membership, you can use the following packages:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/Phone.Notifications.Membership" target="_blank">Phone.Notifications.Membership</a></strong>: This package enables communication with the Push Notification Registration Cloud Service using Membership for authentication, by adding a set of base pages to the phone application.       <br />      <br />The dependencies and relationships between these NuGets are as follows:&#160; <br /><img style="background-image: none; border-right-width: 0px; margin: 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Phone.Notifications.Membership" border="0" alt="Phone.Notifications.Membership" src="http://images.wadewegner.com/wordpress/2011/11/Phone.Notifications.Membership.png" width="552" height="174" /> </li> </ul>  <p><strong><u></u></strong></p>  <p><strong><u><font size="3"></font></u></strong></p>  <p><strong>[Updated 1/6/12]</strong></p>  <p>Recently we added a set of client side NuGet packages that can communicate with the Windows Azure storage service – either directly (using the storage account information) or through proxy services running in Windows Azure. Here are the packages for the client:</p>  <ul>   <li><strong><a href="http://www.nuget.org/packages/Phone.Storage" target="_blank">Phone.Storage</a></strong>: Class library for Windows Phone to communicate with Windows Azure storage services directly (using the storage account information) or through Proxy Cloud Services (using custom authentication mechanisms). </li>    <li><strong><a href="http://www.nuget.org/packages/Phone.Storage.Sample" target="_blank">Phone.Storage.Sample</a></strong>: Sample application for Windows Phone that shows how to use the Windows Azure Storage Client Library for Windows Phone. </li>    <li><strong><a href="http://www.nuget.org/packages/Phone.Storage.AccessControl" target="_blank">Phone.Storage.AccessControl</a></strong>: This package enables communication with the Windows Azure Storage Proxy Cloud Services using Windows Azure Access Control Service (ACS) for authentication.       <br /><img style="background-image: none; border-right-width: 0px; margin: 10px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.wadewegner.com/wp-content/uploads/2012/01/image6.png" width="602" height="154" /> </li>    <li><strong><a href="http://www.nuget.org/packages/Phone.Storage.Membership" target="_blank">Phone.Storage.Membership</a></strong>: This package enables communication with the Windows Azure Storage Proxy Cloud Services using Membership for authentication.       <br /><img style="background-image: none; border-right-width: 0px; margin: 10px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.wadewegner.com/wp-content/uploads/2012/01/image7.png" width="622" height="162" /> <!--EndFragment--></li> </ul>  <p><strong><u><font size="3">Server Side NuGet Packages</font></u></strong></p>  <p>Over the years our team has built a lot of libraries for Windows Azure that we regularly use for samples, demos, hands-on labs, and so forth. We’ve continued to refine these libraries and have started to expose some of them as discrete NuGet packages.&#160; Here are some of them:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/WindowsAzure.Common" target="_blank">WindowsAzure.Common</a></strong>: Class library that provides common helpers tools for Windows Azure. </li>    <li><strong><a href="http://www.nuget.org/List/Packages/Storage.Providers" target="_blank">Storage.Providers</a></strong>: ASP.NET Providers (Membership, Roles, Profile and Session State Store) for Windows Azure Tables. </li>    <li><strong><a href="http://www.nuget.org/List/Packages/MpnsRecipe" target="_blank">MpnsRecipe</a></strong>: Class library to communicate with the Microsoft Push Notification Service (MPNS). </li> </ul>  <p>If you plan to manage users through ASP.NET membership, we have a NuGet package that will handle everything in your Windows Azure project:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/WindowsAzure.Identity.Membership" target="_blank">WindowsAzure.Identity.Membership</a></strong>: Class library that includes the Membership Authentication Cloud Service. </li> </ul>  <p>We have a set of WebAPI services that work with the Phone.Notifications NuGet packages for handling the Channel URIs and push notification registration services:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/WindowsAzure.Notifications" target="_blank">WindowsAzure.Notifications</a></strong>: This package contains a class library with the Push Notification Registration Cloud Service, and a WebActivator enabled class with the default configuration. </li>    <li><strong><a href="http://www.nuget.org/List/Packages/WindowsAzure.Notifications.Sql" target="_blank">WindowsAzure.Notifications.Sql</a></strong>: Class library that provides storage in a SQL Azure or SQL Server database for the Push Notification Registration Cloud Service. </li>    <li><strong><a href="http://www.nuget.org/packages/WindowsAzure.Notifications.Client.Sql" target="_blank">WindowsAzure.Notifications.Client.Sql</a></strong>: This package contains a class library with a Table Context to access the Push Notification Registration Cloud Service's SQL Server tables where the registered enpoints are stored. This package can be used from a worker role to query registered endpoints and send notifications. </li>    <li><strong><a href="http://www.nuget.org/packages/WindowsAzure.Notifications.Client.AzureTables" target="_blank">WindowsAzure.Notifications.Client.AzureTables</a></strong>: This package contains a class library with a Table Context to access the Push Notification Registration Cloud Service's Azure Tables where the registered enpoints are stored. This package can be used from a worker role to query registered endpoints and send notifications. </li> </ul>  <p>If you plan to use the Phone.Notifications.AccessControl NuGet package and secure the communications channel with ACS, then you can use this NuGet package:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/WindowsAzure.Notifications.AccessControl" target="_blank">WindowsAzure.Notifications.AccessControl</a></strong>: This package enables authentication using Windows Azure Access Control Service (ACS) for the Push Notification Registration Cloud Service. You just need to configure a Relying Party Application with Simple Web Token (SWT) in your ACS namespace, and configure its settings accordingly in the Web.config.       <br />      <br />The dependencies and relationships between these NuGets are as follows:&#160;&#160; <br /><img style="background-image: none; border-right-width: 0px; margin: 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="WindowsAzure.Notifications.AccessControl" border="0" alt="WindowsAzure.Notifications.AccessControl" src="http://www.wadewegner.com/wp-content/uploads/2012/01/image2.png" width="704" height="131" /> </li> </ul>  <p>If you plan to use the Phone.Notifications.Membership NuGet package and secure the communications channel with membership, then you can use this NuGet package:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/CloudServices.Notifications.Membership" target="_blank">CloudServices.Notifications.Membership</a></strong>: This package enables authentication using the Membership provider for the Push Notification.       <br />      <br />The dependencies and relationships between these NuGets are as follows:&#160;&#160; <br /><img style="background-image: none; border-right-width: 0px; margin: 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="WindowsAzure.Notifications.Membership" border="0" alt="WindowsAzure.Notifications.Membership" src="http://www.wadewegner.com/wp-content/uploads/2012/01/image3.png" width="704" height="147" /> </li> </ul>  <p>When working with Push Notifications, you need some kind of client to generate and send notifications. We’ve built some simple scaffolding that you can use during development (or production?) to generate and send notifications:</p>  <ul>   <li><strong><a href="http://www.nuget.org/List/Packages/WindowsPhone.Notifications.ManagementUI.Sample" target="_blank">WindowsPhone.Notifications.ManagementUI.Sample</a></strong>: A sample MVC Area containing the Management UI for sending Push Notifications to Windows Phone Devices. </li> </ul>  <p><strong>[Updated 1/6/12]</strong></p>  <p>Recently we added a set of client side NuGet packages that can communicate with the Windows Azure storage service – either directly (using the storage account information) or through proxy services running in Windows Azure. Here are the packages for the services:</p>  <ul>   <li><strong><a href="http://www.nuget.org/packages/WindowsAzure.Storage" target="_blank">WindowsAzure.Storage</a></strong>: This client library enables working with the Windows Azure storage services which include the blob service for storing binary and text data, the table service for storing structured non-relational data, and the queue service for storing messages that may be accessed by a client. </li>    <li><strong><a href="http://www.nuget.org/packages/WindowsAzure.Storage.Proxy" target="_blank">WindowsAzure.Storage.Proxy</a></strong>: This package contains a class library with the Windows Azure Storage Proxy Cloud Services, and a <i>WebActivator</i> enabled class with the default configuration. </li>    <li><strong><a href="http://www.nuget.org/packages/WindowsAzure.Storage.AccessControl" target="_blank">WindowsAzure.Storage.AccessControl</a></strong>:This package enables authentication using Windows Azure Access Control Service (ACS) for the Windows Azure Storage Proxy Cloud Services. You just need to configure a Relying Party Application with Simple Web Token (SWT) in your ACS namespace, and configure its settings accordingly in the Web.config. </li>    <li><strong><a href="http://www.nuget.org/packages/WindowsAzure.Storage.Proxy.AccessControl" target="_blank">WindowsAzure.Storage.Proxy.AccessControl</a></strong>: This package enables authentication using Windows Azure Access Control Service (ACS) for the Windows Azure Storage Proxy Cloud Services. You just need to configure a Relying Party Application with Simple Web Token (SWT) in your ACS namespace, and configure its settings accordingly in the Web.config.       <br /><img style="background-image: none; border-right-width: 0px; margin: 10px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="WindowsAzure.Storage.AccessControl" border="0" alt="WindowsAzure.Storage.AccessControl" src="http://www.wadewegner.com/wp-content/uploads/2012/01/image4.png" width="602" height="170" /> </li>    <li><strong><a href="http://www.nuget.org/packages/WindowsAzure.Storage.Membership" target="_blank">WindowsAzure.Storage.Membership</a></strong>: This package enables authentication using the Membership provider for the Windows Azure Storage Proxy Cloud Services. You just need to make sure to have a valid Membership provider configured in your Web.config. </li>    <li><strong><a href="http://www.nuget.org/packages/WindowsAzure.Storage.Proxy.Membership" target="_blank">WindowsAzure.Storage.Proxy.Membership</a></strong>: This package enables authentication using the Membership provider for the Windows Azure Storage Proxy Cloud Services. You just need to make sure to have a valid Membership provider configured in your Web.config.       <br /><img style="background-image: none; border-right-width: 0px; margin: 10px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="WindowsAzure.Storage.Membership" border="0" alt="WindowsAzure.Storage.Membership" src="http://www.wadewegner.com/wp-content/uploads/2012/01/image5.png" width="602" height="217" /> </li> </ul>  <p>That’s it!</p>  <p>It’s a lot of resources, I know. The intent of this post isn’t to necessarily provide you with the guidance on how to use all these NuGets, but rather to explain what we have available. I plan to write a lot of blog posts that highlight real scenarios and use cases for these NuGet packages, so I’ll refer back to this post quite often. In the meantime, I hope it gives you a&#160; feel for how we’re thinking about engineering and delivering resources for Windows Phone and Windows Azure moving forward.</p>  <p>I hope this helps!</p>
